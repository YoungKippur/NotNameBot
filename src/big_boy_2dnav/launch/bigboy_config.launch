<launch>
  <node pkg="map_server" type="map_server" name="map_server" args="$(find big_boy_2dnav)/pisomeca.yaml">
  </node>
  <node pkg="tf" type="static_transform_publisher" name="link_to_laser_bc" args="0 0 0 0 0 0 base_link laser 100">
  </node>
  <node pkg="hector_mapping" type="hector_mapping" name="hector_mapping" output="screen">
    <remap from="map" to="mapcurrent" />
    <param name="map_frame" value="mapcurrent_frame" />
    <param name="base_frame" value="base_link" />
    <param name="odom_frame" value="base_link" />
    <param name="pub_map_odom_transformer" value="false"/>
    <param name="pub_odometry" value="true"/>
    <param name="use_tf_scan_transformation" value="true" />
    <param name="use_tf_pose_start_estimate" value="false" />
    <param name="advertise_map_service" value="true" />
    <param name="tf_map_scanmatch_transform_frame_name" value="scanmatcher_frame" />
  </node>
  <node pkg="setup_tf" type="odomtransformer.py" name="odomtransformer" output="screen"> </node>
  <node pkg="amcl" type="amcl" name="amcl">
     <param name="tf_broadcast" value="true"/>
     <param name="base_frame_id" value="base_link"/>
     <param name="global_frame_id" value="map"/>
     <param name="odom_frame_id" value="scanmatch_odom"/>
     <param name="use_map_topic" value="false"/>
  </node>
  <node pkg="move_base" type="move_base" respawn="false" name="move_base" output="screen">
    <rosparam file="$(find big_boy_2dnav)/costmap_common_params.yaml" command="load" ns="global_costmap" />
    <rosparam file="$(find big_boy_2dnav)/costmap_common_params.yaml" command="load" ns="local_costmap" />
    <rosparam file="$(find big_boy_2dnav)/local_costmap_params.yaml" command="load"/>
    <rosparam file="$(find big_boy_2dnav)/global_costmap_params.yaml" command="load" />
    <rosparam file="$(find big_boy_2dnav)/base_local_planner_params.yaml" command="load" />
  </node>
</launch>
